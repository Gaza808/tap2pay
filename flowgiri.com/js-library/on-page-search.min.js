function overrideDefaultOptions(e, t) {
  return { ...t, ...e };
}
const flowgiriOnepageSearch = (e = {}) => {
  let t = {
    searchFieldSelector: "[flowgiri-on-page-search-field]",
    searchItemsContainerSelector: "[flowgiri-search-items-container]",
  };
  t = overrideDefaultOptions(e, t);
  let { searchFieldSelector: r, searchItemsContainerSelector: i } = t;
  if (t.searchFieldSelector) {
    let o = document.querySelectorAll(r);
    o.forEach((e) => {
      let t = e.closest("form");
      t &&
        t.addEventListener("submit", function (e) {
          e.preventDefault();
        }),
        document.querySelectorAll(i).forEach((t) => {
          t.getAttribute("flowgiri-search-items-container") ===
            e.getAttribute("flowgiri-on-page-search-field") &&
            e.addEventListener("keyup", (e) => {
              processSearchEvent(e, t);
            });
        });
    });
  }
};
function processSearchEvent(e, t) {
  let r = e.target.value.toLowerCase(),
    i = t.children;
  Array.from(i).forEach((e) => {
    toggleItemsOnSearch(e, r);
  });
}
function toggleItemsOnSearch(e, t) {
  let r = e.textContent.toLowerCase();
  t.trim()
    ? r.includes(t)
      ? (e.style.display = "")
      : (e.style.display = "none")
    : (e.style.display = "");
}
flowgiriOnepageSearch();
